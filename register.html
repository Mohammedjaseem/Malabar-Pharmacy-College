<!DOCTYPE html>
<html lang="en">
  <!-- Mirrored from live.themewild.com/edubo/application-form.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 16 May 2024 05:26:42 GMT -->
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="MCP Malabar College of Pharmacy - Providing quality education in pharmacy." />
    <meta name="keywords" content="MCP, Malabar, College, Pharmacy, Education, Quality" />

    <title>
      MCP - Malabar College of Pharmacy
    </title>

    <link rel="icon" type="image/x-icon" href="assets/img/logo/logo.png" />

    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/all-fontawesome.min.css" />
    <link rel="stylesheet" href="assets/css/animate.min.css" />
    <link rel="stylesheet" href="assets/css/magnific-popup.min.css" />
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <div class="preloader">
      <div class="loader-book">
        <div class="loader-book-page"></div>
        <div class="loader-book-page"></div>
        <div class="loader-book-page"></div>
      </div>
    </div>

    <header class="header">
        <div class="header-top">
          <div class="container">
            <div class="header-top-wrapper">
              <div class="header-top-left">
                <div class="header-top-contact">
                  <ul>
                    <li>
                      <div class="header-top-contact-icon">
                        <img src="assets/img/icon/mail.svg" alt="Mail Icon" />
                      </div>
                      <div class="header-top-contact-info">
                        <h6>Mail Us</h6>
                        <a href="mailto:mcp@macity.edu.in">mcp@macity.edu.in</a>
                      </div>
                    </li>
                    <li>
                      <div class="header-top-contact-icon">
                        <img src="assets/img/icon/call.svg" alt />
                      </div>
                      <div class="header-top-contact-info">
                        <h6>Call Now</h6>
                        <a href="tel:+917034555559">+91 7034555559</a>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="header-top-right">
                <div class="header-top-social">
                  <span>Follow Us: </span>
                  <a href="http://www.facebook.com/MalabarCollegeofPharmacy"><i class="fab fa-facebook-f"></i></a>
                  <a href="http://www.instagram.com/malabar_college_of_pharmacy"><i class="fab fa-instagram"></i></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="main-navigation">
          <nav class="navbar navbar-expand-lg">
            <div class="container position-relative">
              <a class="navbar-brand" href="/">
                < <span>Malabar College of Pharmacy</span>
              </a>
              <div class="mobile-menu-right">
                <button
                  class="navbar-toggler"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#main_nav"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
                >
                  <span class="navbar-toggler-mobile-icon"
                    ><i class="far fa-bars"></i
                  ></span>
                </button>
              </div>
              <div class="collapse navbar-collapse" id="main_nav">
                <ul class="navbar-nav">
                  <li class="nav-item dropdown">
                    <a class="nav-link active" href="/">Home</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link" href="/#about-us">About Us</a>
                  </li>
                  
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="" data-bs-toggle="dropdown">Admission</a>
                    <ul class="dropdown-menu fade-down">
                          <li><a class="dropdown-item" href="admission.html">Admission</a></li>
                          <li><a class="dropdown-item" href="/prospectus2024.html">Prospects</a></li>
                    </ul>
                  </li>
  
                  <li class="nav-item dropdown">
                    <a class="nav-link" href="/#courses">Courses</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/#contact-us">Contact</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/careers.html">Careers</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
        </div>
      </header>

    <div class="search-popup">
        <button class="close-search"><span class="far fa-times"></span></button>
        <form action="#">
            <div class="form-group">
                <input type="search" name="search-field" placeholder="Search Here..." required>
                <button type="submit"><i class="far fa-search"></i></button>
            </div>
        </form>
    </div>

    <main class="main">

        <div class="site-breadcrumb" style="background: url(assets/img/breadcrumb/01.jpg)">
            <div class="container">
                <h2 class="breadcrumb-title">Register</h2>
                <ul class="breadcrumb-menu">
                    <li><a href="/">Home</a></li>
                    <li class="active">Register</li>
                </ul>
            </div>
        </div>

        <div class="login-area py-120" id="registerSection">
            <div class="container">
                <div class="col-md-5 mx-auto">
                    <div class="login-form">
                        <div class="login-header">
                            <img src="assets/img/logo/logo.png" alt>
                            <p>Create your MCP account</p>
                        </div>
                        <form id="registerForm" onsubmit="registerUser(event)">
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" class="form-control" placeholder="Your Name" required>
                            </div>
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" class="form-control" placeholder="Your Email" required>
                            </div>
                            <div class="form-group position-relative">
                              <label>Password</label>
                                <input type="password" class="form-control" placeholder="Your Password" required id="password">
                                <span id="togglePassword" style="position: absolute; right: 10px; top: 44px; cursor: pointer;">
                                  <i class="fas fa-eye" id="togglePasswordIcon"></i>
                              </span>
                            </div>
                            <div class="d-flex align-items-center">
                                <button type="submit" class="theme-btn"><i class="far fa-paper-plane"></i>
                                    Register</button>
                                <div id="registerSpinner" style="display: none; margin-left: 10px;">
                                    <i class="fas fa-spinner fa-spin"></i>
                                </div>
                            </div>
                        </form>
                        <div class="login-footer">
                            <p>Already have an account? <a href="login.html">Login.</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="login-area py-120" id="otpSection" style="display: none;">
            <div class="container">
                <div class="col-md-5 mx-auto">
                    <div class="login-form">
                        <h3 style="font-size: 1rem;">OTP has been sent to <span id="userEmailDisplay"></span></h3>
                        <form id="otpForm" onsubmit="verifyOtp(event)">
                            <div class="form-group">
                                <label>Enter OTP</label>
                                <input type="text" class="form-control" placeholder="OTP" required id="otpInput" maxlength="6" oninput="validateOtpInput(event)">
                            </div>
                            <div class="d-flex align-items-center">
                                <button type="submit" class="theme-btn">Verify OTP</button>
                                <div id="otpSpinner" style="display: none; margin-left: 10px;">
                                    <i class="fas fa-spinner fa-spin"></i>
                                </div>
                            </div>
                            <div class="resend-otp" style="margin-top: 20px;">
                              <p>Didn't receive the OTP? <a href="#" id="resendOtpLink" onclick="resendOtp(event)">Resend OTP</a></p>
                              <p id="resendOtpTimer" style="display: none;">You can resend OTP in <span id="timer">5:00</span> minutes.</p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </main>

      <a href="#" id="scroll-top"><i class="far fa-arrow-up-from-arc"></i></a>

      <div id="toast" style="position: fixed; top: 20px; right: 20px; min-width: 200px; padding: 10px; border-radius: 5px; display: none; z-index: 1000;"></div>
      <script>
        document.addEventListener("DOMContentLoaded", function() {
          const registerForm = document.getElementById("registerForm");
          const otpSection = document.getElementById("otpSection");
          const userEmailDisplay = document.getElementById("userEmailDisplay");
          const registerSpinner = document.getElementById("registerSpinner");
          const otpSpinner = document.getElementById("otpSpinner");
          const resendOtpLink = document.getElementById("resendOtpLink");
          let userEmail = '';

                  // Toggle password visibility
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('password');
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            // toggle the eye / eye-slash icon
            this.querySelector('i').classList.toggle('fa-eye');
            this.querySelector('i').classList.toggle('fa-eye-slash');
        });

          registerForm.addEventListener("submit", function(event) {
            event.preventDefault();
            registerSpinner.style.display = 'block';

            const fullName = registerForm.querySelector('input[type="text"]').value;
            const email = registerForm.querySelector('input[type="email"]').value;
            const password = registerForm.querySelector('input[type="password"]').value;

            if (!fullName || !email || !password) {
              showToast("Please fill in all fields.", "error");
              registerSpinner.style.display = 'none';
              return;
            }

            if (!validateEmail(email)) {
              showToast("Please enter a valid email address.", "error");
              registerSpinner.style.display = 'none';
              return;
            }

            if (password.length < 6) {
              showToast("Password must be at least 6 characters long.", "error");
              registerSpinner.style.display = 'none';
              return;
            }

            const formData = {
              full_name: fullName,
              email: email,
              password: password,
              org: "MCP"
            };

            // Send form data to the API
            fetch('https://conext.in/admissions/api/register/', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
              registerSpinner.style.display = 'none';
              if (data.status) {
                showToast(data.message || "Registration successful! Please check your email for the OTP.", "success");
                userEmail = email;
                userEmailDisplay.textContent = userEmail;
                document.getElementById("registerSection").style.display = 'none';
                otpSection.style.display = 'block';
              } else {
                showToast("Registration failed: " + data.message, "error");
              }
            })
            .catch(error => {
              registerSpinner.style.display = 'none';
              console.error('Error:', error);
              showToast(error.response && error.response.data && (error.response.data.error || error.response.data.message) || error.message || "An error occurred during registration. Please try again.", "error");
            });
          });

          resendOtpLink.addEventListener("click", function(event) {
            event.preventDefault();
            resendOtpLink.style.display = 'none'; // Hide the resend link
            fetch('https://conext.in/admissions/api/resend_otp/', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({ email: userEmail })
            })
            .then(response => response.json())
            .then(data => {
              if (data.status) {
                showToast(data.message || "OTP resent successfully.", "success");
                startResendOtpTimer();
              } else {
                showToast("Failed to resend OTP: " + data.message, "error");
                resendOtpLink.style.display = 'block'; // Show the resend link again if failed
              }
            })
            .catch(error => {
              console.error('Error:', error);
              showToast(error.response && error.response.data && (error.response.data.error || error.response.data.message) || error.message || "An error occurred while resending OTP. Please try again.", "error");
              resendOtpLink.style.display = 'block'; // Show the resend link again if error
            });
          });

          document.getElementById("otpForm").addEventListener("submit", function(event) {
            event.preventDefault();
            otpSpinner.style.display = 'block';
            const otpInput = document.getElementById('otpInput').value;

            if (otpInput.length !== 6) {
              showToast('Please enter a 6-digit OTP.', "error");
              otpSpinner.style.display = 'none';
              return;
            }

            // Proceed with OTP verification
            fetch('https://conext.in/admissions/api/verify_otp/', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({ email: userEmail, otp: otpInput })
            })
            .then(response => response.json())
            .then(data => {
              otpSpinner.style.display = 'none';
              if (data.status) {
                showToast(data.message || 'OTP verified successfully.', "success");
                window.location.href = 'login.html';
              } else {
                showToast('OTP verification failed: ' + data.message, "error");
              }
            })
            .catch(error => {
              otpSpinner.style.display = 'none';
              console.error('Error:', error);
              showToast(error.response && error.response.data && (error.response.data.error || error.response.data.message) || error.message || 'An error occurred during OTP verification. Please try again.', "error");
            });
          });

          function startResendOtpTimer() {
            const resendOtpTimer = document.getElementById("resendOtpTimer");
            const timerElement = document.getElementById("timer");
            let timeLeft = 300; // 5 minutes in seconds
            resendOtpTimer.style.display = 'block';

            const timerInterval = setInterval(() => {
              const minutes = Math.floor(timeLeft / 60);
              const seconds = timeLeft % 60;
              timerElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
              timeLeft--;

              if (timeLeft < 0) {
                clearInterval(timerInterval);
                resendOtpTimer.style.display = 'none';
                resendOtpLink.style.display = 'block'; // Show the resend link again after 5 minutes
              }
            }, 1000);
          }
        });

        function validateEmail(email) {
          const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return re.test(String(email).toLowerCase());
        }

        function showToast(message, type) {
          const toast = document.getElementById("toast");
          toast.innerText = message;
          toast.style.display = "block";
          toast.style.backgroundColor = type === "success" ? "#4CAF50" : "#f44336";
          toast.style.color = "#fff";
          setTimeout(() => {
            toast.style.display = "none";
          }, 3000);
        }

        function validateOtpInput(event) {
          const input = event.target;
          input.value = input.value.replace(/[^0-9]/g, '');
        }
      </script>
  
      <script
        data-cfasync="false"
        src="https://live.themewild.com/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
      ></script>
      <script src="assets/js/jquery-3.7.1.min.js"></script>
      <script src="assets/js/modernizr.min.js"></script>
      <script src="assets/js/bootstrap.bundle.min.js"></script>
      <script src="assets/js/imagesloaded.pkgd.min.js"></script>
      <script src="assets/js/jquery.magnific-popup.min.js"></script>
      <script src="assets/js/isotope.pkgd.min.js"></script>
      <script src="assets/js/jquery.appear.min.js"></script>
      <script src="assets/js/jquery.easing.min.js"></script>
      <script src="assets/js/owl.carousel.min.js"></script>
      <script src="assets/js/counter-up.js"></script>
      <script src="assets/js/wow.min.js"></script>
      <script src="assets/js/main.js"></script>
    </body>
  
    <!-- Mirrored from live.themewild.com/edubo/alumni.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 16 May 2024 05:27:21 GMT -->
  </html>  
